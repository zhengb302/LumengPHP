## 属性注入注解

`属性注入`注解支持从不同的`源`获取值并自动注入到类实例的相应属性中，不同的注解代表了不同的`源`。

支持可选的`参数名称`，框架会优先根据这个参数名称获取输入值，如果这个参数名称不存在，则会使用`属性名称`获取输入值。
当然，有个例外，从`currentEvent`源获取输入值的时候不需要使用参数，所以即使提供了参数名称，也会默默的忽略掉。

### 类型转化

除了`service`源和`currentEvent`源，使用其他源会导致框架根据属性的类型先对输入值（即：从源中取出来的值，下同）做相应的类型转化，
再把转化之后的值注入到属性中，并且由于属性的类型是强制要求提供的，这在一定程度上使应用更加安全。

`类型转化`只支持原生类型。
- 整数类型：int、long
- 浮点数类型：float、double
- 布尔值：bool
- 字符串：string
- 数组：array

对于`bool`类型，输入值如果是字符串`'0'`、`''`或者`'false'`，则会转化输入值为`false`，否则都是`true`。

对于`string`类型，会对输入值做`trim`处理。

对于`array`类型，如果输入值不是数组，则会使用英文逗号`,`把字符串分割成一个数组。

### HTTP应用支持的属性注入注解

注解     | 说明
-------- | ----
@get     | 从`$_GET`中获取HTTP请求参数值
@post    | 从`$_POST`中获取HTTP请求参数值
@request | 从`$_REQUEST`中获取HTTP请求参数值
@session | 从`$_SESSION`中获取值
@config  | 从`配置文件`中获取`配置值`
@service | 从`服务容器`中获取`服务对象`
@currentEvent | 注入`当前事件对象`

### 控制台应用支持的属性注入注解

注解     | 说明
-------- | ----
@config  | 从`配置文件`中获取`配置值`
@service | 从`服务容器`中获取`服务对象`
@currentEvent | 注入`当前事件对象`

### 语法示例

从`$_GET`中获取`name`参数，并转化为`string`类型，注入到`username`属性中：
```php
   /**
    * @var string 用户名
    * @get(name)
    */
   private $username;
```
> 说明：因为参数名称和属性名称不相同，所以必须提供参数名称

从`$_POST`中获取`age`参数，并转化为`int`类型，注入到`age`属性中：
```php
   /**
    * @var int 年龄
    * @post
    */
   private $age;
```
> 说明：因为参数名称和属性名称相同，所以注解中可以忽略参数名称

从`服务容器`中获取名为`logger`的`服务对象`，注入到`logger`属性中：
```php
   /**
    * @var LoggerInterface 日志服务
    * @service
    */
   private $logger;
```
> 说明：因为服务名称和属性名称相同，所以注解中可以忽略服务名称
